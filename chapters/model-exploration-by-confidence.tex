\chapter[Model Exploration by Confidence]{Model Exploration by Confidence with Completely Specified Counterexamples}
\label{cha:model-expl-conf}

We have seen how we can extend our understanding of attribute exploration to include the
possibility to explore implications which enjoy a high confidence in some given formal
context.  In this chapter we want to extend this generalization of attribute exploration
even further to be able to explore GCIs with high confidence in finite interpretations.
The basis for this extension will be Distel's \emph{model exploration}
algorithm~\cite{Diss-Felix}, an extension of attribute exploration to explore valid GCIs
of finite interpretations.

Model exploration, similarly to attribute exploration, assumes that a certain domain of
interest is representable by a finite interpretation $\mathcal{I}_{\mathsf{back}}$, which
we shall call the \emph{background interpretation} of the exploration process.  However,
we assume that this interpretation is not directly accessible, but instead we have given
an expert that allows us to decide whether certain GCIs are valid in
$\mathcal{I}_{\mathsf{back}}$ or not.  In addition, if a given GCI $C \sqsubseteq D$ is
not valid in $\mathcal{I}_{\mathsf{back}}$, then the expert provides a counterexample for
$C \sqsubseteq D$ in a suitable way.

The principal way how model exploration now works is again very akin to attribute
exploration.  Given a finite \emph{connected subinterpretation} $\mathcal{I}$ of
$\mathcal{I}_{\mathsf{back}}$ and a set $\mathcal{B}$ of valid GCIs of
$\mathcal{I}_{\mathsf{back}}$, the algorithm successively generates valid GCIs $C
\sqsubseteq D$ of $\mathcal{I}$ which do not follow from $\mathcal{B}$ and presents them
to some expert.  If the expert confirms $C \sqsubseteq D$, then it is added to
$\mathcal{B}$.  If the expert rejects $C \sqsubseteq D$, then she provides a
counterexample to it in the form of a connected subinterpretation of
$\mathcal{I}_{\mathsf{back}}$, which is added to $\mathcal{I}$.  Since $\mathcal{I}$ and
$\mathcal{B}$ thus play the same role as the working context and the set of known
implications during attribute exploration, we shall refer to them as the \emph{working
  interpretation} and the \emph{set of known GCIs}, respectively.  If no more GCIs can be
generated to be asked to the expert the algorithm stops.  It can be shown that at this
point, the set $\mathcal{B}$ is a finite base of $\mathcal{I}_{\mathsf{back}}$.

The foregone description already suggests that there are some difficulties in transferring
attribute exploration to the setting of GCIs and finite interpretations.  The most
apparent is that the set of GCIs we potentially have to cover is infinite, as the set of
valid GCIs of $\mathcal{I}_{\mathsf{back}}$ is infinite.

The other problem is that validity of GCIs in interpretations deploy a \emph{closed-world}
semantics: if an element $x \in \Delta^{\mathcal{I}}$ of a (finite) interpretation
$\mathcal{I} = (\Delta^{\mathcal{I}}, \cdot^{\mathcal{I}})$ does not have an $r$-successor
in $\mathcal{I}$, for some $r \in N_{R}$, then it is assumed that $x$ \emph{does not have}
$r$-successors, instead of just assuming that these $r$-successors are not specified, but
still could exist.  Therefore, if we add an element $x$ of $\mathcal{I}_{\mathsf{back}}$
as a counterexample for a GCI to our working interpretation $\mathcal{I}$, then we also
have to include \emph{all} its role successors (and their role successors, and so on),
even so they may not be needed as part the counterexample.  This is because otherwise
elements in $\mathcal{I}$ may serve as counterexamples to GCIs which are valid in
$\mathcal{I}_{\mathsf{back}}$, because missing information is considered as false
information.  The approach followed by Distel to account for this problem is to let the
expert provide \emph{connected subinterpretations} of $\mathcal{I}_{\mathsf{back}}$ as
counterexamples for GCIs.

Distel was now able to extend his algorithm for computing finite bases of $\mathcal{I}$
into an model exploration algorithm, and we shall introduce this algorithm with all
necessary details in \Cref{sec:model-expl-with}.  Based on this discussion, we shall
develop a model exploration algorithm that also includes GCIs with high confidence among
those proposed to the expert.  This algorithm, which we shall call \emph{model exploration
by confidence}, will be introduced in \Cref{sec:model-expl-with-1}, and its construction
will mimic the argumentation used by Distel for his model exploration algorithm.

The results presented in this section have been published previously in
\cite{Borc-LTCS-13-11}.

\section{Model Exploration with Valid GCIs}
\label{sec:model-expl-with}

In this section we shall introduce the model exploration algorithm devised by Distel to
allow to explore valid GCIs of finite interpretations~\cite[Chapter~6]{Diss-Felix}.  In
the next section, we shall then use the argumentation presented here and shall generalize
it to the setting of GCIs with high confidence in finite interpretations.

Model exploration is based on the result that bases of finite interpretations
$\mathcal{I}$ can be obtained from bases of their corresponding induced formal context
$\con K_{\mathcal{I}}$ (\Cref{thm:Felix-base-B3}).  Since attribute exploration arises
from the computation of the canonical base by adding suitable expert interaction (see
\Cref{sec:attr-expl}), one could think of obtaining an algorithm for model exploration by
adding suitable expert interaction during the computation of bases of $\con
K_{\mathcal{I}}$.  It shall turn out that this is indeed correct.

There is a technical problem, however, which does not arise in attribute exploration:
during attribute exploration, the set of attributes is fixed.  On the other hand, when we
add counterexamples to our current working interpretation $\mathcal{I}$ during model
exploration, then the attribute set $M_{\mathcal{I}}$ of the corresponding induced context
$\con K_{\mathcal{I}}$ may change, since it depends on the elements of $\mathcal{I}$:
recall that $M_{\mathcal{I}}$ was defined as
\begin{equation*}
  M_{\mathcal{I}} = N_{C} \cup \set{ \bot } \cup \set{ \exists r. X^{\mathcal{I}} \mid r
    \in N_{R}, X \subseteq \Delta^{\mathcal{I}}, X \neq \emptyset },
\end{equation*}
where $X^{\mathcal{I}}$ denotes the model-based most-specific concept description of $X$
in $\mathcal{I}$.

Thus, to allow to use attribute exploration as a basis for model exploration we need to
fix the attribute set, and the best way for this would be to use
$M_{\mathcal{I}_{\mathsf{back}}}$.  However, since we cannot access the background
interpretation $\mathcal{I}_{\mathsf{back}}$ directly, we cannot compute this set
completely.  However, it can be shown that we can compute the set
$M_{\mathcal{I}_{\mathsf{back}}}$ \emph{incrementally} during the computation, using the
fact that the expert confirms a certain type GCIs, and then use the parts of
$M_{\mathcal{I}_{\mathsf{back}}}$ we already know for the exploration process.

To explain how this can be done, we shall first discuss in \Cref{sec:grow-sets-attr} how
we can compute bases of formal contexts where the set of attributes is allowed to grow
during the computation.  Thereafter, we shall see in \Cref{sec:comp-bases-given} how we
can transfer this algorithm to the setting of computing finite bases of finite
interpretations $\mathcal{I}$, thus allowing the set $M_{\mathcal{I}}$ to be computed
successively during the computation.  Finally, we shall see in \Cref{sec:an-algor-expl}
how we can add expert interaction to avoid direct access to the underlying interpretation,
thus obtaining an algorithm that implements model exploration.

\subsection{Growing Sets of Attributes}
\label{sec:grow-sets-attr}

We want to find an algorithm that allows us to compute bases of formal contexts where the
attribute set is allowed to grow during the computation.  We can think of this situation
as not knowing the attributes of a formal context completely when we start the
computation, but instead more and more attributes are uncovered during the run of the
algorithm.

Obtaining such an algorithm is actually not that difficult.  For this let us consider how
\Cref{alg:canonical-base} computes the canonical base.  There, we use the Next Closure
algorithm to enumerate the premises of the canonical base of a given formal context $\con
K = (G, M, I)$, using some linear order $\leq_{M}$ on $M$.  If $M = \set{ m_{1}, \dots,
  m_{n} }$ and
\begin{equation*}
  m_{n} \leq_{M} m_{n-1} \leq_{M} \dots \leq_{M} m_{1},
\end{equation*}
then the Next Closure algorithm firstly enumerates all premises which are subsets of
$\emptyset$, then those which are subsets of $\set{ m_{1} }$, then those of $\set{ m_{1},
  m_{2} }$ and so on.  In particular, it will not consider an element $m_{k} \in M$ before
it has enumerated all premises which are subsets of $\set{ m_{1}, \dots, m_{k-1} }$.

We can exploit this idea for our purpose of computing bases with growing sets of
attributes: if the attribute set in iteration $i$ is $M_{i}$, ordered by $\leq_{M_{i}}$,
and we are about to add some new attributes $m_{1}, \dots, m_{n}$ to $M_{i}$ to obtain
\begin{equation*}
  M_{i+1} := M_{i} \cup \set{ m_{1}, \dots, m_{n} },
\end{equation*}
then we define the linear order $\leq_{M_{i+1}}$ on $M_{i+1}$ by ordering the elements in
$M_{i} \subseteq M_{i+1}$ as before, \ie
\begin{equation}
  \label{eq:48}
  \leq_{M_{i}} = {\leq_{M_{i+1}}} \cap M_{i} \times M_{i},
\end{equation}
and requiring in addition that
\begin{equation}
  \label{eq:49}
  m_{j} \leq_{M_{i+1}} x
\end{equation}
is true for all $j \in \set{ 1, \dots, n }$ and $x \in M_{i}$.  In other words, we just
put the new elements \emph{before} the old elements.  In that way, the Next Closure
behaves as if the elements would have been there from the start, and computes the base as
desired.

\addfunctionname{base/growing-set-of-attributes}

\begin{figure}[tp]
  \begin{Algorithm}[Algorithm 8 from~\cite{Diss-Felix}]~ Computing a Base of a Formal
    Context with Growing Sets of Attributes and Background Knowledge%
    \label{alg:base/growing-set-of-attributes}
\begin{lstlisting}
define base/growing-set-of-attributes($\con K = (G, M, I)$, $\leq_{M}$, $\mathcal{S} \subseteq \Th(\con K)$)
  $i$ := 0
  $P_i$ := $\emptyset$
  $\mathcal{K}_i$ := $\emptyset$
  $\con K_i$ := $\con K$
  $M_i$ := $M$
  $\mathcal{S}_i$ := $\mathcal{S}$
  $\leq_{M_i}$ := $\leq_{M}$

  forever do
    read $\con K_{i+1} = (G, M_{i+1}, I_{i+1}) \text{ such that } M_i \subseteq M_{i+1}
\text{ and } I_i = I_{i+1} \cap M_i \times M_i$
    read $\mathcal{S}_{i+1} \text{ such that } \mathcal{S}_i \subseteq \mathcal{S}_{i+1} \subseteq \Th(\con K_{i+1})$
    choose ${\leq_{M_{i+1}}} \text{ such that (\ref{eq:48}) and (\ref{eq:49}) hold.}$

    $\mathcal{K}_{i+1}$ := $\set{ P_r \to (P_r)_{\con K_{i+1}}'' \mid P_r \neq
      (P_r)_{\con K_{i+1}}'', r \in \set{ 0, \ldots, i } }$

    $P_{i+1}$ := next-closure($M_{i+1}$, $\leq_{M_{i+1}}$, $P_{i}$, $\mathcal{K}_{i+1} \cup \mathcal{S}_{i+1})$
    if $P_{i+1} =$ nil exit

    $i$ := $i + 1$  
  end

  return $\mathcal{K}_i$  
end    
\end{lstlisting}  
  \end{Algorithm}
\end{figure}

An implementation of this idea is shown in \Cref{alg:base/growing-set-of-attributes}.
Here we start with some initial formal context $\con K_{0} = \con K = (G, M, I)$ and some
background knowledge $\mathcal{S}_{0} = \mathcal{S} \subseteq \Th(\con K)$.  Then, in
every iteration we allow to extend the current context $\con K_{i} = (G, M_{i}, I_{i})$ by
providing a new set $M_{i+1} \supseteq M_{i}$ of attributes and a new incidence relation
$I_{i+1} \subseteq M_{i+1} \times M_{i+1}$ which satisfies
\begin{equation*}
  I_{i} = I_{i+1} \cap M_{i} \times M_{i}.
\end{equation*}
This corresponds to our perception that we do not now the actual formal context of which
we want to compute a base of at the beginning, but instead uncover more and more parts
during the computation.

For this algorithm to make sense, we of course need to require that at a certain point all
of the formal context has been uncovered, \ie that for some $\ell \in \NN_{\geq 0}$ it is
true that $M_{\ell} = M_{i}$ for all $i \geq \ell$.  From this point on,
\Cref{alg:base/growing-set-of-attributes} behaves as \Cref{alg:canonical-base} for
computing the canonical base of a given formal context.

\begin{Theorem}[Theorems~6.2 and~6.3 from~\cite{Diss-Felix}]
  \label{thm:base-with-growing-set-of-attributes}
  Let $\con K = (G, M, I)$ be a finite formal context, $\leq_{M}$ a linear order on $M$,
  and $\mathcal{S} \subseteq \Th(\con K)$.  Then in a run of
  \Cref{alg:base/growing-set-of-attributes}, let $\ell \in \NN_{\ge 0}$ be such that
  $M_{\ell} = M_{i}$ for all $i \geq \ell$.  Then this run terminates.  If $n$ is the last
  iteration of this run, then $\mathcal{K}_{n}$ of $\con K_{n}$ with background knowledge
  $\mathcal{S}_{n}$.
\end{Theorem}

A difference to the classical computation of the canonical base as shown in
\Cref{alg:canonical-base} is that in the latter we only consider sets $P$ as premises for
implications which are closed under the currently known implications, but are not intents
of the given formal context.  In contrast to this,
\Cref{alg:base/growing-set-of-attributes} considers all sets $P_{i}$ which are closed
under the currently known implications, no matter whether they are intents of $\con K_{i}$
or not.  The reason for this that even if $P_{i}$ is an intent of $\con K_{i}$, it could
very well be that $P_{i}$ is not an intent of $\con K_{n}$ (where $n$ is the number of
iterations of the algorithm) because of attributes which have been introduced in $\con
K_{n}$, but were not present in $\con K_{i}$.  Since we cannot know whether $P_{i}$ will
be an intent of $\con K_{n}$ or not when we compute it, we have to consider it as well.
Otherwise, we cannot guarantee that $\mathcal{K}_{n}$ will be a base of $\con K_{n}$.

Unfortunately, the fact that we have to keep all those sets $P_{i}$ may lead to
$\mathcal{K}_{n}$ not being irredundant anymore.  This has been illustrated
in~\cite{Diss-Felix} by the following example.

\begin{Example}[Example~6.1 from~\cite{Diss-Felix}]
  \label{exp:non-redundant-bases}
  %
  \begin{figure}[tp]
    \centering
    \begin{equation*}
      \con K_0 = \con K_1 =
      \begin{array}{c | c}
        ~ & \text{A} \\
        \midrule
        1 & \times \\
        2 & 
      \end{array}
      \qquad
      \con K_2 = \con K_3 =
      \begin{array}{c|cc}
        ~ & \text{A} & \text{B} \\
        \midrule
        1 & \times & \\
        2 &        & \times
      \end{array}
      \qquad
      \con K_3 = \con K_4 = \con K_5 =
      \begin{array}{c|ccc}
        ~ & \text{A} & \text{B} & \text{C}\\
        \midrule
        1 & \times & & \times \\
        2 & & \times &
      \end{array}
    \end{equation*}
    \caption{Formal Contexts for \Cref{exp:non-redundant-bases}}
    \label{fig:example-context-1}
  \end{figure}
  %
  We consider the following run of \Cref{alg:base/growing-set-of-attributes} with input
  $\con K = \con K_0$ as shown in \Cref{fig:example-context-1}, and $\mathcal{S} =
  \mathcal{S}_0 = \emptyset = \mathcal{S}_1 = \ldots = \mathcal{S}_6$:
  \begin{equation*}
    \begin{array}{c|ccc}
      k & M_{k+1} \setminus M_k & \mathcal{L}_k & P_k \\
      \midrule
      0 & \emptyset      & \emptyset & \emptyset         \\
      1 & \emptyset      & \emptyset & \set{\text{A}}    \\
      2 & \set{\text{B}} & \emptyset & \set{\text{B}}    \\
      3 & \emptyset      & \emptyset & \set{\text{A}, \text{B}} \\
      4 & \set{\text{C}} & \set{\set{\text{A}} \to \set{\text{A},\text{C}},
        \set{\text{A},\text{B}} \to \set{\text{A}, \text{B}, \text{C}}} & \set{\text{C}}\\
      5 & \emptyset      & \set{\set{\text{A}} \to \set{\text{A},\text{C}},
        \set{\text{A},\text{B}} \to \set{\text{A}, \text{B}, \text{C}}, \set{\text{C}} \to
        \set{\text{A},\text{C}}} & \set{\text{A}, \text{B}, \text{C}}\\
      6 & \emptyset & \set{\set{\text{A}} \to \set{\text{A},\text{C}},
        \set{\text{A},\text{B}} \to \set{\text{A}, \text{B}, \text{C}}, \set{\text{C}} \to
        \set{\text{A},\text{C}}} & \text{\lstinline{nil}}
    \end{array}
  \end{equation*}
  In iterations 2 and 4, the new attributes B and C are added, as shown in
  Figure~\ref{fig:example-context-1}.  The algorithm terminates in iteration 6 with output
  $\mathcal{L}_6$, which is clearly non-redundant: the implication $\set{\text{A},
    \text{B}} \to \set{\text{A}, \text{B}, \text{C}}$ is entailed by $\set{\text{A}} \to
  \set{\text{A}, \text{C}}$.
\end{Example}

\subsection{Computing Bases of Given Finite Interpretations}
\label{sec:comp-bases-given}

We now want to use \Cref{alg:base/growing-set-of-attributes} to devise an algorithm that
allows us to compute bases of finite interpretations $\mathcal{I}$ without computing the
set $M_{\mathcal{I}}$ first.  Instead, we want that the elements of the set
$M_{\mathcal{I}}$ are computed successively during the run of the algorithm.  In this way,
we can immediately start with computing valid GCIs of $\mathcal{I}$, and do not have to
wait for $M_{\mathcal{I}}$ to be computed completely.

The successive computation of the elements of $M_{\mathcal{I}}$ is achieved in
\Cref{alg:base/growing-set-of-attributes} by defining the sets $M_{i}$ as follows.  For $i
= 0$, we define
\begin{equation*}
  M_{0} = N_{C} \cup \set{ \bot }.
\end{equation*}
Then, during the run of the algorithm, we add elements of the form $\exists
r. X^{\mathcal{I}}$ for $r \in N_{R}$ and $X \subseteq \Delta^{\mathcal{I}}, X \neq
\emptyset$.  More precisely, whenever we compute a set $P_{i}$ in
\Cref{alg:base/growing-set-of-attributes}, we define
\begin{equation*}
  M_{i+1} := M_{i} \cup \set{ \exists r. (\bigsqcap P_{i})^{\mathcal{I}\mathcal{I}} \mid r
    \in N_{R} },
\end{equation*}
where the union is only up to equivalence, \ie if for some $C:= \exists r. (\bigsqcap
P_{i})^{\mathcal{I}\mathcal{I}}$, there already exists $D \in M_{i}$ such that $C \equiv
D$, then we do not add $C$ in the definition of $M_{i+1}$.

We also need to specify how we define the formal contexts $\con K_{i}$ and the sets
$\mathcal{S}_{i}$ of background knowledge.  We set $\con K_{i}$ to be the induced formal
context of $M_{i}$ and $\mathcal{I}$, and we define
\begin{equation*}
  \mathcal{S}_{i+1} = \set{ \set{A} \to \set{B} \mid A, B \in M_{i}, A \sqsubseteq B }.
\end{equation*}
The resulting algorithm is shown in \Cref{alg:base-of-interpretation}.

\addfunctionname{base-of-interpretation,induced-context}

\begin{figure}[tp]
  \begin{Algorithm}[Algorithm 9 from~\cite{Diss-Felix}]~ Computing a Base of a Given
    Interpretation with Incremental Computation of $M_{\mathcal{I}}$%
    \label{alg:base-of-interpretation}
    \begin{lstlisting}
define base-of-interpretation($\mathcal{I} = (\Delta^{\mathcal{I}}, \cdot^{\mathcal{I}})
\text{ over } N_{C} \text{ and } N_{R}$)
  $i$ := 0
  $P_i$ := $\emptyset$
  $M_i$ := $N_C \cup \set{\bot}$
  $\mathcal{K}_i$ := $\emptyset$
  $\mathcal{S}_i$ := $\set{\set{\bot} \to \set{A} \mid A \in N_C}$
  choose ${\leq_{M_{i}}} \text{ as a linear order on } M_{i}$

  forever do
    $M_{i+1}$ := $M_i \cup \set{ \exists r.(\bigsqcap P_i)^{\mathcal{I}\mathcal{I}} \mid r \in N_R}\label{lst:base-of-interpretation-1}$
    $\con K_{i+1}$ := induced-context($\mathcal{I}$, $M_{i+1}$)$\label{lst:base-of-interpretation-2}$
    $\mathcal{K}_{i+1}$ := $\set{ P_r \to (P_r)_{\con K_{i+1}}'' \mid P_r \neq
      (P_r)_{\con K_{i+1}}'', r \in \set{ 0, \ldots, i} }$
    $\mathcal{S}_{i+1}$ := $\set{ \set{A} \to \set{B} \mid A, B \in M_{i+1}, A \sqsubseteq
      B }$
    choose ${\leq_{M_{i+1}}} \text{ such that (\ref{eq:48}) and (\ref{eq:49}) hold.}$

    $P_{i+1}$ := next-closure($M_{i+1}$, $\leq_{M_{i+1}}$, $P_i$, $\mathcal{K}_{i+1} \cup \mathcal{S}_{i+1}$)
    if $P_{i+1} =$ nil exit

    $i$ := $i + 1$  
  end

  return $\set{ \bigsqcap P \sqsubseteq (\bigsqcap P)^{\mathcal{I}\mathcal{I}} \mid (P \to
    P_{\con K_{i+1}}'') \in \mathcal{K}_{i+1} }$
end    
    \end{lstlisting}  
  \end{Algorithm}
\end{figure}

Note that \Cref{alg:base-of-interpretation} has the form of
\Cref{alg:base/growing-set-of-attributes}, and thus we can argue that a run of
\Cref{alg:base-of-interpretation} terminates with finite sets $N_{C}, N_{R}$ and a finite
interpretation $\mathcal{I}$ as input.  In this case, all concept descriptions which are
added to the set of attributes during the run of the algorithm are, up to equivalence,
elements of $M_{\mathcal{I}}$, which is finite.  Thus, there exists a number $\ell \in
\NN_{\ge 0}$ such that for all $i \geq \ell$ it is true that $M_{i} = M_{\ell}$.  Then, by
\Cref{thm:base-with-growing-set-of-attributes}, \Cref{alg:base-of-interpretation} has to
terminate.

To see that the definition of $M_{i}$ will eventually yield all elements of
$M_{\mathcal{I}}$, up to equivalence, we first observe that $M_{i} \subseteq
M_{\mathcal{I}}$ is true up to equivalence for all iterations $i$ of
\Cref{alg:base-of-interpretation}.  On the other hand, if $\exists r. X^{\mathcal{I}} \in
M_{\mathcal{I}}$, then $X^{\mathcal{I}} \equiv X^{\mathcal{I}\mathcal{I}\mathcal{I}} =
(X^{\mathcal{I}})^{\mathcal{I}\mathcal{I}}$, and $X^{\mathcal{I}}$ is expressible in terms
of $M_{\mathcal{I}}$ by \Cref{lem:mmsc-are-expressible-in-terms-of-M_I}.  Therefore, there
exists $U \subseteq M_{\mathcal{I}}$ such that
\begin{equation*}
  X^{\mathcal{I}} \equiv \bigsqcap U.
\end{equation*}
If $n$ is the number of iterations of the algorithm, and if $\con K_{n}$ denotes the
induced context of $M_{n}$ and $\mathcal{I}$, then we find
\begin{equation*}
  (\bigsqcap U_{\con K_{n}}'')^{\mathcal{I}} = U_{\con K_{n}}''' = U_{\con K_{n}}' =
  (\bigsqcap U)^{\mathcal{I}}
\end{equation*}
using \Cref{prop:connection-I-prime-2}.  Then
\begin{equation*}
  \exists r. X^{\mathcal{I}} \equiv \exists r. (X^{\mathcal{I}})^{\mathcal{I}\mathcal{I}}
  \equiv \exists r.(\bigsqcap U_{\con K_{n}}'')^{\mathcal{I}\mathcal{I}}.
\end{equation*}
Thus, it suffices to consider only intents of the final context $\con K_{n}$.  A result by
Distel shows that these intents are among the sets $P_{i}$

\begin{Lemma}[Partly Lemma~6.3 from~\cite{Diss-Felix}]
  \label{lem:Felix-6.3}
  Consider a terminating run of \Cref{alg:base-of-interpretation} with $n$ iterations, and
  let $Q \subseteq M_{n}$.  Then if $Q = Q_{\con K_{n}}''$, then $Q = P_{i}$ for some $i
  \in \set{ 0, \dots, n }$.
\end{Lemma}

Using this lemma we can show that $M_{n}$ is, up to equivalence, equal to
$M_{\mathcal{I}}$.  It can then be shown that a base of the induced context of
$\mathcal{I}$ and $M_{n}$ yields a base of $\mathcal{I}$ as
well~\cite[Corollary~5.14]{Diss-Felix}.  From this, we immediately obtain the correctness
of \Cref{alg:base-of-interpretation}.

\begin{Theorem}[Theorem~6.9 from~\cite{Diss-Felix}]
  \label{thm:Felix-6.9}
  Let $\mathcal{I}$ be a finite interpretation over $N_{C}$ and $N_{R}$.  Then the set
  \begin{equation*}
    \mathcal{K} = \text{\lstinline{base-of-interpretation}}(\mathcal{I})
  \end{equation*}
  is a finite base of $\mathcal{I}$.
\end{Theorem}

\subsection{An Algorithm for Exploring Interpretations}
\label{sec:an-algor-expl}

Based on \Cref{alg:base-of-interpretation}, we now want to discuss an algorithm for model
exploration.  For this, recall that during model exploration we suppose that our domain of
interest can be represented by a finite interpretation $\mathcal{I}_{\mathsf{back}}$, the
background interpretation of the exploration.  If we could access
$\mathcal{I}_{\mathsf{back}}$ directly, then to explore $\mathcal{I}_{\mathsf{back}}$
would just mean to compute a base of it, which we could achieve by using
\Cref{alg:base-of-interpretation}.  However, as already discussed, we assume that we
cannot accessed directly, but instead is represented by an expert.

To turn \Cref{alg:base-of-interpretation} into an algorithm that allows us to compute a
base of $\mathcal{I}_{\mathsf{back}}$ using only the expert as a means to access this
interpretation, we want to replace every direct access to $\mathcal{I}_{\mathsf{back}}$ in
\Cref{alg:base-of-interpretation} by a suitable expert interaction.  For this we observe
that there are two places in \Cref{alg:base-of-interpretation} that directly access the
given interpretation:
\begin{enumerate}[i. ]
\item when computing concept descriptions of the form $\exists r.(\bigsqcap
  P_{i})^{\mathcal{I}_{\mathsf{back}}}$ (line~\ref{lst:base-of-interpretation-1} of
  \Cref{alg:base-of-interpretation}),
\item when computing $\con K_{i}$ as induced context of $M_{i}$ and
  $\mathcal{I}_{\mathsf{back}}$ (line~\ref{lst:base-of-interpretation-2} of
  \Cref{alg:base-of-interpretation}).
\end{enumerate}
The computation of $\con K_{i}$ we can fix easily by instead of computing the induced
context of $M_{i}$ and $\mathcal{I}_{\mathsf{back}}$, we just the induced context $M_{i}$
and the current working interpretation of the exploration process.  For computing $\exists
r. (\bigsqcap P_{i})^{\mathcal{I}_{\mathsf{back}}}$, however, we need to use the expert.

Before we shall discuss this in more detail, we need to consider another issue first,
which we have already talked about in the introduction, namely the way the experts
specifies counterexamples during the exploration.  We had argued that if the expert gives
an element $x \in \Delta^{\mathcal{I}_{\mathsf{back}}}$ from the background interpretation
as a counterexample, then she also has to include all corresponding concept names and role
successors $x$ has in $\mathcal{I}_{\mathsf{back}}$.  Otherwise, there may exist the
danger that the counterexamples thus provided invalidate GCIs which are actually valid in
the background interpretation $\mathcal{I}_{\mathsf{back}}$.

To makes this more formal, Distel introduced the notion of a \emph{connected
  subinterpretation}, which we shall introduce now.

\begin{Definition}[Connected Subinterpretations; Definition~6.1 from~\cite{Diss-Felix}]
  \label{def:connected-subinterpretations}
  Let $\mathcal{I} = (\Delta^{\mathcal{I}}, \cdot^{\mathcal{I}})$ be a finite
  interpretation over $N_{C}$ and $N_{R}$.  Define%
  \def\succop{\operatorname{succ}}%
  \def\nameop{\operatorname{names}}%
  \begin{align*}
    \nameop_{\mathcal{I}}(x) &:= \set{ C \in N_{C} \mid x \in C^{\mathcal{I}} },\\
    \succop_{\mathcal{I}}(x, r) &:= \set{ y \in \Delta^{\mathcal{I}} \mid (x, y) \in
      r^{\mathcal{I}} },
  \end{align*}
  for $x \in \Delta^{\mathcal{I}}$ and $r \in N_{R}$.

  An interpretation $\mathcal{J} = (\Delta^{\mathcal{J}}, \cdot^{\mathcal{J}})$ over
  $N_{C}$ and $N_{R}$ is called a \emph{subinterpretation} of $\mathcal{I}$ if and only if
  \begin{enumerate}[i. ]
  \item $\Delta^{\mathcal{J}} \subseteq \Delta^{\mathcal{I}}$,
  \item $\nameop_{\mathcal{I}}(x) = \nameop_{\mathcal{J}}(x)$ for all $x \in
    \Delta^{\mathcal{J}}$, and
  \item $\succop_{\mathcal{J}}(x,r) \subseteq \succop_{\mathcal{I}}(x,r)$ for all $x \in
    \Delta^{\mathcal{J}}, r \in N_{R}$.
  \end{enumerate}
  $\mathcal{J}$ is called a \emph{connected subinterpretation} of $\mathcal{I}$ if
  $\mathcal{J}$ is a subinterpretation of $\mathcal{I}$, and in addition it is true that
  \begin{equation*}
    \succop_{\mathcal{J}}(x, r) = \succop_{\mathcal{I}}(x, r)
  \end{equation*}
  is true for all $x \in \Delta^{\mathcal{J}}, r \in N_{R}$.  In this case we shall say
  that $\mathcal{I}$ \emph{extends} $\mathcal{J}$.
\end{Definition}

If we now ensure that during the exploration process the current working interpretation is
a connected subinterpretation of the background interpretation
$\mathcal{I}_{\mathsf{back}}$, then we can guarantee that counterexamples provided by the
expert do not accidentally invalidate valid GCIs.  This can be achieved by adding
counterexamples only as connected subinterpretations of $\mathcal{I}_{\mathsf{back}}$ to
our current working interpretation.

\begin{Lemma}[Lemma~6.12 from~\cite{Diss-Felix}]
  \label{lem:Felix-6.12}
  Let $\mathcal{J} = (\Delta^{\mathcal{J}}, \cdot^{\mathcal{J}})$ be an interpretation
  over $N_{C}$ and $N_{R}$ which is a connected subinterpretation of the interpretation
  $\mathcal{I}$.  Then for all $\ELgfpbot$ concept descriptions $C$ over $N_{C}$ and
  $N_{R}$ it is true that
  \begin{equation*}
    C^{\mathcal{J}} = C^{\mathcal{I}} \cap \Delta^{\mathcal{J}}.
  \end{equation*}
\end{Lemma}

\begin{Theorem}[Corollary~6.13 from~\cite{Diss-Felix}]
  \label{thm:GCIs-valid-in-interpretations-are-also-valid-in-connected-subinterpretations}
  Let $\mathcal{I} = (\Delta^{\mathcal{I}}, \cdot^{\mathcal{I}})$ be a finite
  interpretation over $N_{C}$ and $N_{R}$, and let $\mathcal{J} = (\Delta^{\mathcal{J}},
  \cdot^{\mathcal{J}})$ be a connected subinterpretation of $\mathcal{I}$.  Let $C, D$ be
  two $\ELgfpbot$ concept descriptions over $N_{C}$ and $N_{R}$.  Then if $C \sqsubseteq
  D$ is valid in $\mathcal{I}$, then $C \sqsubseteq D$ is also valid in $\mathcal{J}$.
\end{Theorem}
\begin{Proof}
  Since $C \sqsubseteq D$ holds in $\mathcal{I}$, it is true that $C^{\mathcal{I}}
  \subseteq D^{\mathcal{I}}$.  Using \Cref{lem:Felix-6.12} we thus obtain
  \begin{equation*}
    C^{\mathcal{J}} = C^{\mathcal{I}} \cap \Delta^{\mathcal{J}} \subseteq D^{\mathcal{J}}
    \cap \Delta^{\mathcal{J}} = D^{\mathcal{J}},
  \end{equation*}
  \ie $C \sqsubseteq D$ holds in $\mathcal{J}$, as it was claimed.
\end{Proof}

Now that we know how the expert should provide counterexamples to proposed GCIs, let us
turn back our attention to the question how to compute concept descriptions of the form
$\exists r. (\bigsqcap P_{i})^{\mathcal{I}_{\mathsf{back}}\mathcal{I}_{\mathsf{back}}}$.
The problem that in our hypothetical model exploration algorithm, in the iteration when we
computed $P_{i}$, we do not have access to $\mathcal{I}_{\mathsf{back}}$.  Instead, we
only have access to the current working interpretation $\mathcal{I}_{\ell}$, so the only
concept description we can compute is $\exists r. (\bigsqcap
P_{i})^{\mathcal{I}_{\ell}\mathcal{I}_{\ell}}$.  The good thing is that the expert can
ensure that $\exists r. (\bigsqcap
P_{i})^{\mathcal{I}_{\mathsf{back}}\mathcal{I}_{\mathsf{back}}}$ and $\exists
r. (\bigsqcap P_{i})^{\mathcal{I}_{\ell}\mathcal{I}_{\ell}}$ are equivalent.  The reason
for this is the following result.

\begin{Lemma}[Lemma~6.14 from~\cite{Diss-Felix}]
  \label{lem:Felix-6.14}
  Let $\mathcal{I}$ be a finite interpretation over $N_{C}$ and $N_{R}$, and let
  $\mathcal{J}$ be a connected subinterpretation of $\mathcal{I}$.  Then for all
  $\ELgfpbot$ concept descriptions $C$ over $N_{C}$ and $N_{R}$, it is true that if $C
  \sqsubseteq C^{\mathcal{J}\mathcal{J}}$ is valid in $\mathcal{I}$, then
  $C^{\mathcal{I}\mathcal{I}} \equiv C^{\mathcal{J}\mathcal{J}}$.
\end{Lemma}

If we choose $\mathcal{I} = \mathcal{I}_{\mathsf{back}}$, $\mathcal{J} =
\mathcal{I}_{\ell}$ and $C = \bigsqcap P_{i}$ in the previous lemma we see that if the
expert confirms the GCI
\begin{equation*}
  \bigsqcap P_{i} \sqsubseteq (\bigsqcap P_{i})^{\mathcal{I}_{\ell}\mathcal{I}_{\ell}},
\end{equation*}
then $(\bigsqcap P_{i})^{\mathcal{I}_{\ell}\mathcal{I}_{\ell}} \equiv (\bigsqcap
P_{i})^{\mathcal{I}_{\mathsf{back}}\mathcal{I}_{\mathsf{back}}}$, just as we need it.

On the other hand, if the expert rejects $\bigsqcap P_{i} \sqsubseteq (\bigsqcap
P_{i})^{\mathcal{I}_{\ell}\mathcal{I}_{\ell}}$, then she adds counterexamples to the
current working interpretation $\mathcal{I}_{\ell}$ to yield a new working interpretation
$\mathcal{I}_{\ell+1}$.  If $\bigsqcap P_{i} \not\sqsubseteq (\bigsqcap
P_{i})^{\mathcal{I}_{\ell+1}\mathcal{I}_{\ell+1}}$, then the GCI
\begin{equation*}
  \bigsqcap P_{i} \sqsubseteq (\bigsqcap P_{i})^{\mathcal{I}_{\ell+1}\mathcal{I}_{\ell+1}}
\end{equation*}
is again proposed to the expert.  If $\bigsqcap P_{i} \sqsubseteq (\bigsqcap
P_{i})^{\mathcal{I}_{\ell+1}\mathcal{I}_{\ell+1}}$, \ie $\bigsqcap P_{i} \equiv (\bigsqcap
P_{i})^{\mathcal{I}_{\ell+1}\mathcal{I}_{\ell+1}}$, then the next set $P_{i+1}$ is
considered.

\addfunctionname{model-exploration}

\begin{figure}[tp]
  \begin{Algorithm}[Algorithm 11 from~\cite{Diss-Felix}]~ A Model Exploration Algorithm%
    \label{alg:model-exploration}
    \begin{lstlisting}
define model-exploration($\mathcal{I} = (\Delta^{\mathcal{I}}, \cdot^{\mathcal{I}}) \text{ over } N_{C} \text{ and } N_{R}$)
  $i$ := 0
  $P_i$ := $\emptyset$
  $M_i$ := $N_C \cup \set{\bot}$
  $\mathcal{K}_i$ := $\emptyset$
  $\mathcal{S}_i$ := $\set{\set{\bot} \to \set{A} \mid A \in N_C}$
  choose ${\leq_{M_{i}}} \text{ as a linear order on } M_{i}$
  $\ell$ := 0
  $\mathcal{I}_{\ell}$ := $\mathcal{I}$
  
  forever do
    ;; expert interaction
    while $\text{expert refutes } \bigsqcap P_i \sqsubseteq (\bigsqcap P_i)^{\mathcal{I}_\ell\mathcal{I}_\ell}$ do
      $\mathcal{I}_{\ell+1}$ := $\text{new interpretation such that }$
        - $\mathcal{I}_{\ell+1} \text{ extends } \mathcal{I}_\ell$
        - $\mathcal{I}_{\ell+1} \text{ contains counterexamples for } \bigsqcap P_i \sqsubseteq
        (\bigsqcap P_i)^{\mathcal{I}_\ell\mathcal{I}_\ell}$
      $\ell$ := $\ell + 1$
    end

    ;; add new attributes (up to equivalence)
    $M_{i+1}$ := $M_i \cup \set{ \exists r.(\bigsqcap P_i)^{\mathcal{I}_{\ell}\mathcal{I}_{\ell}} \mid r \in N_R}$

    ;; update $\con K_{i+1}, \mathcal{S}_{i+1}$ and $\mathcal{L}_{i+1}$
    $\con K_{i+1}$ := induced-context($\mathcal{I}_{\ell}$, $M_{i+1}$)
    $\mathcal{K}_{i+1}$ := $\set{ P_r \to (P_r)_{\con K_{i+1}}'' \mid P_r \neq
      (P_r)_{\con K_{i+1}}'', r \in \set{ 0, \ldots, i} }$
    $\mathcal{S}_{i+1}$ := $\set{ \set{A} \to \set{B} \mid A, B \in M_{i+1}, A \sqsubseteq
      B }$
    choose ${\leq_{M_{i+1}}} \text{ such that (\ref{eq:48}) and (\ref{eq:49}) hold}$

    ;; next closed set
    $P_{i+1}$ := next-closure($M_{i+1}$, $\leq_{M_{i+1}}$, $P_i$, $\mathcal{K}_{i+1} \cup \mathcal{S}_{i+1}$)
    if $P_{i+1} =$ nil exit

    $i$ := $i + 1$
  end

  return $\set{ \bigsqcap P \sqsubseteq (\bigsqcap P)^{\mathcal{I}_{\ell}\mathcal{I}_{\ell}} \mid (P \to
    P_{\con K_{i+1}}'') \in \mathcal{K}_{i+1} }$
end    
    \end{lstlisting}  
  \end{Algorithm}
\end{figure}

We are now able to adapt \Cref{alg:base-of-interpretation} by replacing all references to
the background interpretation by expert interactions.  The result is shown in
\Cref{alg:model-exploration}.  From our previous discussion we now easily obtain the
following result.

\begin{Theorem}[Theorem~6.16 from~\cite{Diss-Felix}]
  \label{thm:Felix-6.16}
  Let $\mathcal{I}_{\mathsf{back}}$ be a finite interpretation, and let $\mathcal{I}$ be a
  connected subinterpretation of $\mathcal{I}_{\mathsf{back}}$.  Then
  \Cref{alg:model-exploration} applied to $\mathcal{I}$ and using
  $\mathcal{I}_{\mathsf{back}}$ as background interpretation terminates after finitely
  many steps.  If $n$ is the number of iterations in this run, and if $\mathcal{I}_{\ell}$
  is the final working interpretation, then the set
  \begin{equation*}
    \set{ \bigsqcap P \sqsubseteq (\bigsqcap P)^{\mathcal{I}_{\ell}\mathcal{I}_{\ell}}
      \mid (P \to P_{\con K_{n+1}}'') \in \mathcal{K}_{n+1} }
  \end{equation*}
  is a finite base of $\mathcal{I}_{\mathsf{back}}$.
\end{Theorem}

\section{Model Exploration with Confident GCIs}
\label{sec:model-expl-with-1}

In the previous section we have seen how we can obtain an algorithm for model exploration
by extending Distel's results on computing finite bases of finite interpretations.  In
this section we want to generalize this argumentation to the setting of GCIs with high
confidence, \ie we want to obtain an algorithm for model exploration which not only asks
GCIs which are valid in the current working interpretation, but which is also allowed to
ask GCIs whose confidence in the original data is just high enough.  This process we shall
call \emph{model exploration by confidence}.

Distel's argumentation for his model exploration algorithm is based on his method to
obtain finite bases of finite interpretations.  However, in model exploration by
confidence we do not compute bases of the current working interpretation
$\mathcal{I}_{\ell}$, but instead compute bases of $\Th_{c}(\mathcal{I}_{\ell})$, for some
chosen threshold $c \in [0,1]$.  Moreover, the interpretation $\mathcal{I}_{\ell}$
contains a connected subinterpretation consisting of the counterexamples given by the
expert, and all GCIs which are not valid within this subinterpretation should not be
considered further, even if they have a confidence above $c$ in the initial working
interpretation.

We can thus think of $\mathcal{I}_{\ell}$ as consisting of two parts: the initial working
interpretation $\mathcal{I}$, which may contain errors and where we apply our confidence
heuristics, and a connected subinterpretation $\mathcal{I}_{\ell} \setminus \mathcal{I}$,
consisting of the counterexamples given by the expert, where we only consider valid GCIs.
We can think of all elements of $\mathcal{I}$ as \emph{untrusted}, and of all elements of
$\mathcal{I}_{\ell} \setminus \mathcal{I}$ as \emph{trusted}.

To generalize Distel's argumentation for model exploration to GCIs with high confidence,
we shall thus start by devising an algorithm that allows us to compute finite
interpretation containing trusted and untrusted elements, \ie that computes bases of
\begin{equation*}
  \Th_{c}(\mathcal{I}) \cap \Th(\mathcal{I}_{\ell} \setminus \mathcal{I}).
\end{equation*}
We shall do this in \Cref{sec:trust-untr-indiv}.

Thereafter, we shall follow the argumentation of the previous section.  This means that in
\Cref{sec:grow-sets-attr-1} we shall discuss an algorithm that computes bases of formal
contexts containing trusted and untrusted objects, and where the attribute set is allowed
to grow during the computation.  Thereafter, we shall discuss in
\Cref{sec:grow-sets-attr-1} how we can adapt this algorithm to compute bases of finite
interpretation that contain trusted and untrusted individuals, and where the set
$M_{\mathcal{I}}$ is computed on the fly during the run of the algorithm.  Finally, we
shall see in \Cref{sec:expl-conf-gcis} how we can introduce suitable expert interaction
into this last algorithm to obtain an algorithm for model exploration by confidence.

\subsection{Bases for Finite Interpretations with Untrusted Elements}
\label{sec:trust-untr-indiv}

Let $\mathcal{J}$ be a finite interpretation over $N_{C}$ and $N_{F}$, and let
$\mathcal{I}$ be a subinterpretation of $\mathcal{J}$.  As already discussed, we want to
think of $\mathcal{I}$ as the interpretation of \emph{untrusted} elements, and of the
interpretation
\begin{equation*}
  \mathcal{J} \setminus \mathcal{I} := (\Delta^{\mathcal{J}} \setminus
  \Delta^{\mathcal{I}}, \cdot^{\mathcal{J} \setminus \mathcal{I}})
\end{equation*}
as the interpretation of \emph{trusted} elements (provided by the expert), where we define
\begin{align*}
  A^{\mathcal{J} \setminus \mathcal{I}} &:= A^{\mathcal{J}} \cap \Delta^{\mathcal{J}}
  \setminus \Delta^{\mathcal{I}} = A^{\mathcal{J}} \setminus \Delta^{\mathcal{I}},\\
  r^{\mathcal{J} \setminus \mathcal{I}} &:= r^{\mathcal{J}} \cap (\Delta^{\mathcal{J}}
  \setminus \Delta^{\mathcal{I}}) \times (\Delta^{\mathcal{J}} \setminus \Delta^{\mathcal{I}})
\end{align*}
for $A \in N_{C}$ and $r \in N_{R}$.

The aim of this section is to obtain a method to find finite bases of $\mathcal{J}$ with
untrusted elements $\mathcal{I}$.  More precisely, let us define for $c \in [0,1]$ the set
\begin{multline*}
  \Th_{c}(\mathcal{J}, \mathcal{I}) := \{\, C \sqsubseteq D
    \mid C, D \in \ELgfpbot(N_{C}, N_{R}), \\C^{\mathcal{J}} \setminus \Delta^{\mathcal{I}}
    \subseteq D^{\mathcal{J}} \setminus \Delta^{\mathcal{I}}, \abs{ (C \sqcap
      D)^{\mathcal{J}} \cap \Delta^{\mathcal{I}} } \ge c \cdot \abs{ C^{\mathcal{J}} \cap
      \Delta^{\mathcal{I}} } \,\}.
\end{multline*}
We then want to describe a finite base of $\Th_{c}(\mathcal{J}, \mathcal{I})$.  The
results of this section have been published previously in~\cite{conf/dlog/Borchmann13}.

Note that we have given the confidence constraint in the form of
\begin{equation}
  \label{eq:50}
  \abs{ (C \sqsubseteq D)^{\mathcal{J}} \cap \Delta^{\mathcal{I}} } \ge c \cdot \abs{
    C^{\mathcal{J}} \cap \Delta^{\mathcal{I}} },
\end{equation}
which is the suitable formulation for our setting of $\mathcal{I}$ being a
subinterpretation of $\mathcal{J}$.  On the other hand, in our later considerations, both
$\mathcal{I}$ and $\mathcal{J} \setminus \mathcal{I}$ will be connected subinterpretations
of $\mathcal{J}$, and in this case the definition of $\Th_{c}(\mathcal{J}, \mathcal{I})$
can be simplified as follows: recall that in the case that $\mathcal{I}$ is a connected
subinterpretation of $\mathcal{J}$, \Cref{lem:Felix-6.12} yields that for all $C, D \in
\ELgfpbot(N_{C}, N_{R})$
\begin{align*}
  C^{\mathcal{J}} \cap \Delta^{\mathcal{I}} &= C^{\mathcal{I}}, \\
  (C \sqcap D)^{\mathcal{J}} \cap \Delta^{\mathcal{I}} &= (C \sqcap D)^{\mathcal{I}}.
\end{align*}
Thus, \Cref{eq:50} simplifies to
\begin{equation*}
  \abs{ (C \sqcap D)^{\mathcal{I}} } \ge c \cdot \abs{ C^{\mathcal{I}} },
\end{equation*}
which is equivalent to $\conf_{\mathcal{I}}( C \sqsubseteq D ) \ge c$.  Furthermore, since
$\mathcal{J} \setminus \mathcal{I}$ is a connected subinterpretation of $\mathcal{J}$, we
obtain again by \Cref{lem:Felix-6.12} that
\begin{equation*}
  C^{\mathcal{J} \setminus \mathcal{I}} = C^{\mathcal{J}} \cap (\Delta^{\mathcal{J}}
  \setminus \Delta^{\mathcal{I}}) = C^{\mathcal{J}} \setminus \Delta^{\mathcal{J}}
\end{equation*}
is true for all $C \in \ELgfpbot(N_{C}, N_{R})$.  Therefore, $C^{\mathcal{J}} \setminus
\Delta^{\mathcal{I}} \subseteq D^{\mathcal{J}} \setminus \Delta^{\mathcal{I}}$ is
equivalent to $C^{\mathcal{J}\setminus\mathcal{I}} \subseteq
D^{\mathcal{J}\setminus\mathcal{I}}$, \ie if $(C \sqsubseteq D) \in \Th(\mathcal{J}
\setminus \mathcal{I})$.

Thus, the definition of $\Th_{c}(\mathcal{J}, \mathcal{I})$ can now be written as
\begin{align*}
  \Th_{c}(\mathcal{J}, \mathcal{I})
  &= \{\, C \sqsubseteq D \mid C, D \in \ELgfpbot(N_{C}, N_{R}),
  C^{\mathcal{J}} \setminus \Delta^{\mathcal{I}} \subseteq D^{\mathcal{J}}
  \setminus \Delta^{\mathcal{I}}, \conf_{\mathcal{I}}( C \sqsubseteq D ) \ge c \,\} \\
  &= \set{ (C \sqsubseteq D) \in \Th(\mathcal{J} \setminus \mathcal{I}) \mid
    \conf_{\mathcal{I}} (C \sqsubseteq D) \ge c } \\
  &= \Th(\mathcal{J} \setminus \mathcal{I}) \cap \Th_{c}(\mathcal{I}),
\end{align*}
which corresponds to our intention of finding a finite base of all GCIs which are valid in
$\mathcal{J} \setminus \mathcal{I}$ and have high confidence in $\mathcal{I}$.

Let us return to the general case that $\mathcal{I}$ is just a subinterpretation of
$\mathcal{J}$.  To find a base for the set $\Th_{c}(\mathcal{J} \setminus \mathcal{I})$,
we make use of the ideas we have already used to find finite confident bases of
$\Th_{c}(\mathcal{I})$.  More precisely, we first observe that
\begin{equation*}
  \Th(\mathcal{J}) \subseteq \Th_{c}(\mathcal{J}, \mathcal{I}).
\end{equation*}
Since we can find bases of $\Th(\mathcal{J})$ using the results of Distel, we again
concentrate on finding bases of the set $\Th_{c}(\mathcal{J}, \mathcal{I}) \setminus
\Th(\mathcal{J})$.  In other words, if $\mathcal{B}$ is a base of $\Th(\mathcal{J})$, then
we seek a set $\mathcal{C} \subseteq \Th_{c}(\mathcal{J}, \mathcal{I}) \setminus
\Th(\mathcal{J})$ which is complete for $\Th_{c}(\mathcal{J}, \mathcal{I}) \setminus
\Th(\mathcal{J})$.  In this case, $\mathcal{B} \cup \mathcal{C}$ is a base of
$\Th_{c}(\mathcal{J}, \mathcal{I})$.

To find such a set $\mathcal{C}$ we first observe that
\begin{equation*}
  (C \sqsubseteq D) \in \Th_{c}(\mathcal{J}, \mathcal{I}) \iff (C^{\mathcal{J}\mathcal{J}}
  \sqsubseteq D^{\mathcal{J}\mathcal{J}}) \in \Th_{c}(\mathcal{J}, \mathcal{I}).
\end{equation*}
This is because
\begin{align*}
  C^{\mathcal{J}} &= C^{\mathcal{J}\mathcal{J}\mathcal{J}},\\
  (C \sqcap D)^{\mathcal{J}} &= (C \sqcap D)^{\mathcal{J}\mathcal{J}\mathcal{J}}
\end{align*}
is true, and thus
\begin{equation*}
  C^{\mathcal{J}} \setminus \Delta^{\mathcal{I}} \subseteq D^{\mathcal{J}} \setminus
  \Delta^{\mathcal{I}} \iff C^{\mathcal{J}\mathcal{J}\mathcal{J}} \setminus
  \Delta^{\mathcal{I}} \subseteq D^{\mathcal{J}\mathcal{J}\mathcal{J}} \setminus \Delta^{\mathcal{I}}
\end{equation*}
and \Cref{eq:50} is true if and only if
\begin{equation*}
  \abs{ (C \sqsubseteq D)^{\mathcal{J}\mathcal{J}\mathcal{J}} \cap \Delta^{\mathcal{I}} }
  \ge c \cdot \abs{ C^{\mathcal{J}\mathcal{J}\mathcal{J}} \cap \Delta^{\mathcal{I}} }.
\end{equation*}

If now $\mathcal{B}$ is a base of $\Th(\mathcal{J})$, then it is true that
\begin{equation*}
  \mathcal{B} \cup \set{ C^{\mathcal{J}\mathcal{J}} \sqsubseteq D^{\mathcal{J}\mathcal{J}}
  } \models (C \sqsubseteq D).
\end{equation*}
This is because $\mathcal{B} \models (C \sqsubseteq C^{\mathcal{J}\mathcal{J}})$, since $C
\sqsubseteq C^{\mathcal{J}\mathcal{J}}$ is valid in $\mathcal{J}$.  Furthermore,
$D^{\mathcal{J}\mathcal{J}} \sqsubseteq D$, and thus
\begin{equation*}
  \mathcal{B} \cup \set{ C^{\mathcal{J}\mathcal{J}} \sqsubseteq D^{\mathcal{J}\mathcal{J}}
  } \models (C \sqsubseteq C^{\mathcal{J}\mathcal{J}} \sqsubseteq
  D^{\mathcal{J}\mathcal{J}} \sqsubseteq D).
\end{equation*}

Having these two considerations in mind we define
\begin{equation*}
  \Conf(\mathcal{J}, c, \mathcal{I}) := \set{ C^{\mathcal{J}\mathcal{J}} \sqsubseteq
    D^{\mathcal{J}\mathcal{J}} \mid (C^{\mathcal{J}\mathcal{J}} \sqsubseteq
    D^{\mathcal{J}\mathcal{J}}) \in \Th_{c}(\mathcal{J}, \mathcal{I}) }.
\end{equation*}
Since $\mathcal{J}$ is a finite interpretation, the set of model-based most-specific
concept descriptions over $\mathcal{J}$ is finite up to equivalence, and thus
$\Conf(\mathcal{J}, c, \mathcal{I})$ is finite up to equivalence as well.  We therefore
obtain the following result.

\begin{Theorem}
  \label{thm:finite-base-of-interpretation-with-untrusted-individuals}
  Let $\mathcal{J}$ be a finite interpretation, let $\mathcal{I}$ be a
  subinterpretation of $\mathcal{J}$, and let $c \in [0,1]$.  Then if $\mathcal{B}$ is a
  finite base of $\mathcal{J}$, then the set
  \begin{equation*}
    \mathcal{B} \cup \Conf(\mathcal{J}, c, \mathcal{I})
  \end{equation*}
  is a finite base of $\Th_{c}(\mathcal{J}, \mathcal{I})$.
\end{Theorem}

This result already solves our initial problem of finding a finite base of
$\Th_{c}(\mathcal{J} \setminus \mathcal{I})$.  In the following, we want to extend this
result in the direction of computing finite bases of $\Th_{c}(\mathcal{J}, \mathcal{I})$
by computing suitable bases in the corresponding induced contexts.  This will be helpful
later when we develop our algorithm for model exploration by confidence.

\def\restricted{\mathord{\upharpoonright}}

For this theorem we need to introduce some extra notation first.  Let $X \subseteq
\Delta^{\mathcal{J}}$.  Then we shall denote with $\con K_{\mathcal{J}}\restricted_{X}$
the formal context whose set of objects is restricted to $X$, \ie
\begin{equation*}
  \con K_{\mathcal{J}}\restricted_{X} := (X, M_{\mathcal{J}}, \nabla),
\end{equation*}
where $(x, C) \in \nabla \iff x \in C^{\mathcal{J}}$ for $x \in X, C \in M_{\mathcal{J}}$
as before.

We can now formulate a result that allows to find bases of interpretations with untrusted
element from bases of corresponding induced contexts.

\begin{Theorem}
  \label{thm:bases-of-untrusted-interpretations-from-bases-of-contexts}
  Let $\mathcal{J}$ be a finite interpretation over $N_{C}$ and $N_{R}$, and let
  $\mathcal{I}$ be a subinterpretation of $\mathcal{J}$.  Let $c \in [0,1]$, and define
  \begin{equation*}
    \mathcal{T} := \Th_{c}(\con K_{\mathcal{J}}\restricted_{\Delta^{\mathcal{I}}}) \cap
    \Th(\con K_{\mathcal{J}}\restricted_{\Delta^{\mathcal{J}}\setminus\Delta^{\mathcal{I}}}).
  \end{equation*}
  Let $\mathcal{L} \subseteq \mathcal{T}$ be complete for $\mathcal{T}$.  Then $\bigsqcap
  \mathcal{L} \subseteq \Th_{c}(\mathcal{J}, \mathcal{I})$ and $\bigsqcap \mathcal{L}$ is
  complete for $\Th_{c}(\mathcal{J}, \mathcal{I})$.
\end{Theorem}

\begin{Proof}
  We first show $\bigsqcap \mathcal{L} \subseteq \Th_{c}(\mathcal{J}, \mathcal{I})$.  For
  this we need to show that for each $(\bigsqcap X \sqsubseteq \bigsqcap Y) \in \bigsqcap
  \mathcal{L}$ it is true that
  \begin{enumerate}[i. ]
  \item $\abs{ (\bigsqcap X \sqcap \bigsqcap Y)^{\mathcal{J}} \cap \Delta^{\mathcal{I}} }
    \ge c \cdot \abs{ (\bigsqcap X)^{\mathcal{J}} \cap \Delta^{\mathcal{I}} }$, and
  \item $(\bigsqcap X)^{\mathcal{J}} \setminus \Delta^{\mathcal{I}} \subseteq (\bigsqcap
    Y)^{\mathcal{J}} \setminus \Delta^{\mathcal{I}}$.
  \end{enumerate}
  For the first subclaim we observe that $\conf_{\con
    K_{\mathcal{J}}\restricted_{\Delta^{\mathcal{I}}}}(X \to Y) \ge c$, \ie
  \begin{equation*}
    \abs{ (X \cup Y)' \cap \Delta^{\mathcal{I}} } \ge c \cdot \abs{ X' \cap
      \Delta^{\mathcal{I}} }.
  \end{equation*}
  Since $X' = (\bigsqcap X)^{\mathcal{J}}$ and $Y' = (\bigsqcap Y)^{\mathcal{J}}$ by
  \Cref{prop:connection-I-prime-2}, we obtain
  \begin{equation*}
    \abs{ (\bigsqcap (X \cup Y))^{\mathcal{J}} \cap \Delta^{\mathcal{I}} } \ge c \cdot
    \abs{ (\bigsqcap X)^{\mathcal{J}} \cap \Delta^{\mathcal{I}} },
  \end{equation*}
  and since $\bigsqcap (X \cup Y) = \bigsqcap X \sqcap \bigsqcap Y$ we finally get
  \begin{equation*}
    \abs{ (\bigsqcap X \sqcap \bigsqcap Y))^{\mathcal{J}} \cap \Delta^{\mathcal{I}} } \ge
    c \cdot \abs{ (\bigsqcap X)^{\mathcal{J}} \cap \Delta^{\mathcal{I}} },
  \end{equation*}
  as required.

  For the second subclaim we observe that $X' \setminus \Delta^{\mathcal{I}} \subseteq Y'
  \setminus \Delta^{\mathcal{I}}$, because $X \to Y$ is valid in $\con
  K_{\mathcal{J}}\restricted_{\Delta^{\mathcal{J}} \setminus \Delta^{\mathcal{I}}}$.
  Since $X' = (\bigsqcap X)^{\mathcal{J}}$ and $Y' = (\bigsqcap Y)^{\mathcal{J}}$, we
  obtain
  \begin{equation*}
    (\bigsqcap X)^{\mathcal{J}} \setminus \Delta^{\mathcal{I}} \subseteq (\bigsqcap
    Y)^{\mathcal{J}} \setminus \Delta^{\mathcal{I}},
  \end{equation*}
  as required.

  We have thus shown that $\bigsqcap \mathcal{L} \subseteq \Th_{c}(\mathcal{J},
  \mathcal{I})$.  We shall now consider the completeness of $\bigsqcap \mathcal{L}$ for
  $\Th_{c}(\mathcal{J}, \mathcal{I})$.
\end{Proof}

\todo[inline]{Write: 13-11/5.1}%

\subsection{Growing Sets of Attributes}
\label{sec:grow-sets-attr-1}

\todo[inline]{Write: 13-11/5.2}%

\subsection{Exploring Confident GCIs with Known Background Interpretation}
\label{sec:expl-conf-gcis}

\todo[inline]{Write: 13-11/5.3}%

\subsection{Exploring Confident GCIs with Expert Interaction}
\label{sec:expl-conf-gcis-1}

\todo[inline]{Write: 13-11/5.4}%

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "../main"
%%% End: 
