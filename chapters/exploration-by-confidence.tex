\chapter{Exploration by Confidence}
\label{cha:expl-conf}

Recall that we have introduced GCIs with high confidence as an approach to extract
terminological knowledge from erroneous data.  For this approach we have seen in
\Cref{sec:comp-conf-bases} that the thus obtained GCIs require an additional validation
step, \ie an expert has to verify whether the extracted GCIs, whose confidence in the data
$\mathcal{I}$ is above a pre-chosen threshold $c \in [0,1]$, are indeed valid in the
domain of interest.

This additional validation step can be very costly, and thus it should be avoided as much
as possible.  On the other hand, we have also seen in \Cref{sec:comp-conf-bases} that as
soon as some GCI has been confirmed, others may be entailed by it, and a manual validation
is no longer necessary.  This observation may indeed save a lot of work.

Even more, utilizing this observation may save computation time as well: if during the
computation of bases of $\Th_c(\mathcal{I})$ an expert already rejects a GCI and confirms
that some counterexamples for it, which are present in $\mathcal{I}$, are indeed correct,
then all GCIs which are falsified by this counterexamples can also be rejected,
irrespective of whether their confidence in $\mathcal{I}$ is above $c$.  It is thus
desirable to allow expert interaction already during the time of the computation of bases
of $\Th_c(\mathcal{I})$, and not only at the end of the computation, as a separate
validation step.

There is also another issue which requires expert interaction, and which has already been
addressed by Distel~\cite{Diss-Felix}: the data $\mathcal{I}$ may not only contain errors,
but it may also be \emph{incomplete} in the sense that it lacks certain counterexamples,
meaning that some GCIs are valid in $\mathcal{I}$, even so they are not valid in the
domain of interest.  If $\mathcal{I}$ contains errors, it may additionally happen that
some invalid GCIs $C \sqsubseteq D$ are only falsified in $\mathcal{I}$ by erroneous
counterexamples, and that correct counterexamples are not present in $\mathcal{I}$.  In
such a case, the GCI $C \sqsubseteq D$ would be accepted (since all counterexamples are
erroneous) although it is not valid.  Here an expert could, as soon as $C \sqsubseteq D$
would be computed as an element of a base, provide correct counterexamples, inhibiting
this GCI from being included in a base.  Such provided counterexamples would also affect
the following computation, as all GCIs invalided by it would also be rejected.

The approach followed by Distel to solve this problem is to adapt attribute exploration
from its original setting of implications and formal contexts to the setting of GCIs and
finite interpretations.  Recall that the attribute exploration algorithm, which we had
discussed previously in \Cref{sec:attr-expl}, solves a problem which is very similar to
the one sketched above: given a finite formal context $\con K$, we want to compute a base
of the domain which is represented by $\con K$.  However, it may be the case that $\con K$
does not completely represent the domain we are interested in, \ie some implications which
are not valid in our domain actually hold in $\con K$.  Then attribute exploration
provides an interactive base computation procedure which, as soon as an implication is
computed, presents it to the expert and asks for validation.  If the expert confirms this
implication, then the implication is added to the base.  If the expert does not confirm
this implication, she has to provide a counterexample, which is included in $\con K$.  At
the end, the attribute exploration algorithm yields a base of the domain we are interested
in, and not only one for the formal context $\con K$.

Distel's generalizations of attribute exploration to the setting of GCIs and finite
interpretation are called \emph{model exploration} and \emph{ABox exploration}.  Their
abstract behavior is very similar to the one of attribute exploration: during the
computation of a base of $\mathcal{I}$, GCIs $C \sqsubseteq D$ are asked to the expert.
If confirmed, they are added to the base.  If rejected, the expert has to provide a
counterexample which is being added to $\mathcal{I}$.  Upon termination, the algorithm
yields a base of the domain which is represented by the expert.

Model exploration and ABox exploration differ in the way counterexamples are provided.  In
model exploration, counterexamples are directly added to the interpretation $\mathcal{I}$,
whereas in ABox exploration the counterexamples are being added to a separate ABox.  While
the latter is much more user-friendly from the point of view how much needs to be
specified from a counterexample, it is also much more technical and complicated.
Therefore, we shall concentrate in this work on model exploration only.

In the following two chapters we want to generalize model exploration to our setting of
extracting GCIs with high confidence from finite interpretations.  More precisely, what we
want to obtain is an algorithm that computes bases of $\Th_c(\mathcal{I})$, and, as soon
as a GCI for the base is computed, asks the expert for validation.  As above, the expert
may confirm or reject this GCI, where in the latter case she has to provide a
counterexample.  Upon termination, the algorithm should yield a base of the domain which
is represented by the expert, to the extent in which this domain is contained in
$\Th_c(\mathcal{I})$.  We shall make this more precise in \Cref{sec:expl-conf}.

However, before we can discuss model exploration in our setting of GCIs with high
confidence, we first want to adapt attribute exploration to the setting of implications
with high confidence.  This \emph{exploration by confidence} should work the same way as
attribute exploration works, with the notable difference that not only valid implications
are asked, but also those which have a high confidence in the formal context.  Within this
generalization, we have to deal with the problem that counterexamples provided by the
expert are not subject to the confidence measure, as we assume that the expert only gives
valid counterexamples: a single counterexample provided by the expert suffices to reject a
GCI, even if it otherwise has enough confidence in the data.  We shall discuss this
problem along with its solution in detail in \Cref{sec:expl-conf}.

Our discussion of exploration by confidence will be based on a more general discussion of
attribute exploration, which we shall conduct in \Cref{sec:an-abstract-view}.  Therein, we
shall view attribute exploration from a more general and more formal perspective.  This
generalization will allow us to not only explore formal contexts, but also to explore
arbitrary sets of implications, and in our discussion of exploration by confidence these
sets will be of the form $\Th_c(\con K)$.  For this, we shall introduce two variants of a
\emph{generalized attribute exploration}, one which in its technical details is very
closely related to attribute exploration, and one which is more liberal in the way
implications are computed.  Finally, we shall also give a formal specification an
\emph{expert} has to satisfy for our exploration algorithms (including the classical
attribute exploration) to work.

\section{Exploring Sets of Implications}
\label{sec:an-abstract-view}

Let $M$ be a finite set and $\mathcal{L} \subseteq \Imp(M)$.  In this section we want to
discuss how we can turn attribute exploration into an algorithm for \emph{exploring
  $\mathcal{L}$}.  To this end, we shall first give another perspective on the attribute
exploration algorithm that we have already met in \Cref{sec:attr-expl}.  Based upon this,
we shall introduce in \Cref{sec:gener-form-attr} a \emph{generalized attribute
  exploration} that allows us to explore $\mathcal{L}$.  Finally, we introduce in
\Cref{sec:weak-gener-attr} another generalization that provides more freedom in the way
implications are computed.  This generalization later allows us to develop an algorithm
for exploration by confidence in which all implications asked to the expert have high
confidence in the data.

\subsection{Another Perspective on Attribute Exploration}
\label{sec:class-attr-expl}

Recall that in attribute exploration as we had introduced it in \Cref{sec:attr-expl} we
assume that the domain of interest can be represented by a formal context $\con
K_{\mathsf{back}}$, which we call the \emph{background context} of the exploration.  The
goal of attribute exploration is then to find a base of $\con K_{\mathsf{back}}$, without
having direct access to $\con K_{\mathsf{back}}$.  For this we start with a subcontext
$\con K = (G, M, I)$ of $\con K_{\mathsf{back}}$, the \emph{working context} of the
exploration, and a set $\mathcal{K} \subseteq \Imp(M)$ of implications which are valid in
$\con K_{\mathsf{back}}$, which we call the set of \emph{known implications}.  Then we
successively compute implications of the form
\begin{equation*}
  P \to P''
\end{equation*}
where $P$ is a $\mathcal{K}$-pseudo intent of $\con K$, and in particular is closed under
the set of currently known implications, but is not an intent of the current working
context.  Those implications are presented to the expert, who either confirms or rejects
it.

We can view this procedure from a more general perspective\todo{I think Bernhard talked
  about that in his exploration lecture -- find a reference!}: given the formal context
$\con K$, we know that all implications in $\Imp(M) \setminus \Th(\con K)$ \emph{are not}
valid in $\con K_{\mathsf{back}}$, and thus are not valid in our domain.  On the other
hand, all implications in $\Th(\con K)$ \emph{could} be valid in $\con K_{\mathsf{back}}$,
depending on whether counterexamples contained in $\con K_{\mathsf{back}}$ invalidate
implications being valid in $\con K$ or not.  However, what we are certain of is that all
implications in $\mathcal{K}$ \emph{are} valid in our domain, and thus all implications in
$\Cn(\mathcal{K})$ are.

Hence, we have the situation that we have three sets of implications, namely the set of
\emph{all} implications $\Imp(M)$, the set $\Th(\con K)$ of \emph{possibly valid}
implications, and the set of \emph{certainly valid} implications $\Cn(\mathcal{K})$.
These sets are related by
\begin{equation*}
  \Imp(M) \supseteq \Th(\con K) \supseteq \Cn(\mathcal{K}),
\end{equation*}
since $\mathcal{K}$ is supposed to be sound for $\con K$.

Now the set
\begin{equation*}
  \Th(\con K) \setminus \Cn(\mathcal{K})
\end{equation*}
can be seen as the set of \emph{undecided} implications, \ie the set of those implications
which are possibly valid in $\con K_{\mathsf{back}}$, but from which we do not know yet
whether they indeed are valid in $\con K_{\mathsf{back}}$ or not (since we do not have
direct access to $\con K_{\mathsf{back}}$.  Then attribute exploration can be viewed as a
\emph{systematic search} through the set $\Th(\con K) \setminus \Cn(\mathcal{K})$, in the
sense that the crucial feature for attribute exploration to work is to be able to compute
implications
\begin{equation}
  \label{eq:33}
  (P \to P'') \in \Th(\con K) \setminus \Cn(\mathcal{K}),
\end{equation}
provided that $\Th(\con K) \setminus \Cn(\mathcal{K}) \neq \emptyset$.  We shall argue now
why this is indeed enough.

Let $(P \to P'') \in \Th(\con K) \setminus \Cn(\mathcal{K})$.  Then the implication $P \to
P''$ is proposed to the expert.  If she accepts $P \to P''$, then we add this implication
to $\mathcal{K}$, and we obtain the following situation:
\begin{equation*}
  \Imp(M) \supseteq \Th(\con K) \supseteq \Cn(\mathcal{K} \cup \set{ P \to P'' })
  \supsetneq \Cn(\mathcal{K}).
\end{equation*}
If the expert rejects $P \to P''$, she has to provide a counterexamples, \ie a set $C
\subseteq M$ such that $P \subseteq C$ and $P'' \not\subseteq C$.  Denote with $\con K +
C$ the formal context which arises from $\con K$ by adding a new object $g_C$ to $\con K$
which has exactly the attributes which are contained $C$, \ie which satisfies
\begin{equation*}
  (g_C)' := C
\end{equation*}
where the derivation is done in $\con K + C$.  Then the situation from above evolves into
\begin{equation*}
  \Imp(M) \supseteq \Th(\con K) \supsetneq \Th(\con K + C) \supseteq \Cn(\mathcal{K}).
\end{equation*}

If $\Th(\con K) \setminus \Cn(\mathcal{K}) = \emptyset$, then the algorithm terminates.
Note that this indeed has to happen since the base set $M$ is finite.  We then obtain the
situation\footnote{We read $\con K + C_1 + \dots + C_m$ as $(\dots(\con K + C_1) + \dots )
  + C_m$ and nothing else.}
\begin{align*}
  \Imp(M) &\supseteq \Th(\con K) \supsetneq \Th(\con K + C_1) \supsetneq \dots \supsetneq
  \Th(\con K + C_1 + \dots + C_m) \\ &= \Cn(\mathcal{K} \cup \set{ P_1 \to P_1'', \dots, P_n
    \to P_n'' }) \supsetneq \dots \supsetneq \Cn(\mathcal{K})
\end{align*}
where $m, n \in \NN_{\geq 0}$, $C_1, \dots, C_m, P_1, \dots, P_n \subseteq M$, and where
all derivations are done in $\con K + C_1 + \dots + C_m$.  It is true that
\begin{equation*}
  \Th(\con K + C_1 + \dots + C_m) = \Th(\con K_{\mathsf{back}}) = \Cn(\mathcal{K} \cup
  \set{ P_1 \to P_1'', \dots, P_n \to P_n'' }
\end{equation*}
just because
\begin{equation*}
  \Th(\con K + C_1 + \dots + C_i) \supseteq \Th(\con K_{\mathsf{back}}) \supseteq
  \Cn(\mathcal{K} \cup \set{ P_1 \to P_1'', \dots, P_j \to P_j''} )
\end{equation*}
for all $1 \leq i \leq m$ and $1 \leq j \leq n$.  In particular, the set
\begin{equation*}
  \set{P_1 \to P_1'', \dots, P_n \to P_n''}
\end{equation*}
is a base of $\con K_{\mathsf{back}}$ with background knowledge $\mathcal{K}$, as
required.

Note that this discussion did not require that the set $P$ from \Cref{eq:33} is a
$\mathcal{K}$-pseudo intent of $\con K$.  The only necessary requirement is that $P \neq
P''$ and that $P \to P''$ does not follow from $\mathcal{K}$.  Both these properties are
guaranteed by $P$ being a $\mathcal{K}$-pseudo intent of $\con K$, but this is not
necessary.

On the other hand, if we want to compute the canonical base of $\con K_{\mathsf{back}}$
with background knowledge $\mathcal{K}$, then $P$ obviously needs to be a
$\mathcal{K}$-pseudo intent of $\con K$.  However, since attribute exploration should
compute \emph{some} base of $\con K_{\mathsf{back}}$, we can see the computation of
$\Can(\con K_{\mathsf{back}}, \mathcal{K})$ as an optimization, and not as a crucial
requirement.

\subsection{A Generalized Form of Attribute Exploration}
\label{sec:gener-form-attr}

\todo[inline]{Write: formalize notion of expert}%
\todo[inline]{Write: problem seems to have easy theoretical solution, but this one is
  impractical.  Furthermore, the context $\con K_{\mathcal{L}}$ may not be a subcontext of
  the background context, and thus classical attribute exploration is not applicable}%
\todo[inline]{Write: 13-04/3.2}

\subsection{A Weaker Generalization of Attribute Exploration}
\label{sec:weak-gener-attr}

\todo[inline]{Write: 13-04/3.3}

\section{Exploration by Confidence}
\label{sec:expl-conf}

\todo[inline]{Write: 13-04/4}

\subsection{Exploration by Confidence with Optimality}
\label{sec:expl-conf-1}

\todo[inline]{Write: 13-04/4.1}

\subsection{An Exploration by Confidence with Faster Generation of Questions}
\label{sec:poss-fast-expl}

\todo[inline]{Write: 13-04/4.2}

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "../main"
%%% End: 

%  LocalWords:  expl attr gener
